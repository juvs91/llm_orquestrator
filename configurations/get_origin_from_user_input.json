[
  {
        "max_iterations": 1,
        "name": "START",
        "type": "SET_CONTEXT_NODE",
        "options": {
            "next_node": "concatenate_files_dbt",
            "context_to_save": {
              "user_prompt": "Quiero saber de que tabla puedo encontrar el identificador de los trabajadores"
            }
        }
  },
  {
        "max_iterations": 1,
        "name": "concatenate_files_dbt",
        "type": "CONCATENATE_FILES_NODE",
        "options": {
            "next_node": "get_posible_fields",
            "directory": "/Volumes/case-sensitive-volume/LLM_TOOLS/dbt_analyzed",
            "file_extension": ".txt",
            "separator": "\n",
            "context_var_to_save": "dbt_tables"
        }
  },
  {
        "max_iterations": 3,
        "name": "get_posible_fields",
        "type": "LLM_NODE",
        "options": {
            "llm_node_type": "GEMINI",
            "next_node": "log_response_node",
            "output_context": "posible_results_raw",
            "context_vars_prompt": ["user_prompt","dbt_tables"],
            "options": {
                "system_prompt_template_name": "SI_GET_POSSIBLE_ORIGIN_FIELDS_FROM_DBT",
                "system_prompt_input_values": {},
                "prompt_template_name": "GET_POSSIBLE_ORIGIN_FIELDS_FROM_DBT",
                "temperature": 0.0,
                "options": {
                    "project_id": "dea-analytics-prj-gemini",
                    "region": "us-central1",
                    "gcp_model_name": "gemini-1.5-pro-preview-0514"
                }
            }
        }
  },
  {
        "max_iterations": 10,
        "name": "log_response_node",
        "type": "LOG_NODE",
        "options": {
            "next_node": "validate_yaml_node",
            "print_context_var": "posible_results_raw",
            "print_context": false
        }
  },
  {
        "max_iterations": 10,
        "name": "validate_yaml_node",
        "type": "PARSE_YAML_NODE",
        "options": {
          "next_node_on_valid": "END",
          "next_node_on_invalid": "get_posible_fields",
          "context_var_to_validate": "posible_results_raw",
          "context_var_save_as_object": "result_object"
        }
  },
  {
        "max_iterations": 1,
        "name": "END",
        "type": "LOG_NODE",
        "options": {
            "next_node": "no node",
            "print_context_var": "result_object",
            "print_context": false
        }
  }
]